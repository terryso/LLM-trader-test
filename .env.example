# Binance API Credentials
BN_API_KEY=your_binance_api_key_here
BN_SECRET=your_binance_secret_key_here

# OpenRouter API Key (optional fallback for LLM_API_KEY)
OPENROUTER_API_KEY=openrouter_api_key_here

# Trading interval (3m, 5m, 15m, 30m, 1h, 4h)
TRADEBOT_INTERVAL=15m

# System prompt file path (optional - defaults to prompts/system_prompt.txt)
TRADEBOT_SYSTEM_PROMPT_FILE=prompts/system_prompt.txt

# LLM Configuration（推荐：GLM 编程套餐）
TRADEBOT_LLM_MODEL=glm-4.6
TRADEBOT_LLM_TEMPERATURE=0.3
TRADEBOT_LLM_MAX_TOKENS=4000
#TRADEBOT_LLM_THINKING={"budget_tokens":512}

# LLM provider examples (optional)

# Example 1: GLM 编程套餐（推荐）
# 在 bigmodel.cn 后台创建 API Key 后：
LLM_API_BASE_URL=https://open.bigmodel.cn/api/coding/paas/v4/chat/completions
LLM_API_KEY=your_glm_api_key_here
LLM_API_TYPE=openai

# Example 2: OpenRouter（可选备用）
# 如果只设置 OPENROUTER_API_KEY 并注释掉上面的 GLM 配置，
# Bot 会默认调用 https://openrouter.ai/api/v1/chat/completions
#LLM_API_BASE_URL=https://openrouter.ai/api/v1/chat/completions
#LLM_API_KEY=${OPENROUTER_API_KEY}
#LLM_API_TYPE=openrouter

# Example 3: Official OpenAI（或其他兼容服务）
#LLM_API_BASE_URL=https://api.openai.com/v1/chat/completions
#LLM_API_KEY=sk-your_openai_api_key_here
#LLM_API_TYPE=openai

# Example 4: 自建 / 本地 OpenAI-compatible gateway
#LLM_API_BASE_URL=http://localhost:8000/v1/chat/completions
#LLM_API_KEY=your_local_gateway_token_here
#LLM_API_TYPE=custom

# Capital settings
PAPER_START_CAPITAL=10000.0

# Risk-free rate for Sortino calculation (annualized, e.g., 0.03 = 3%)
SORTINO_RISK_FREE_RATE=0.0

# Telegram notifications (optional)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Optional: Telegram Signals Chat ID
TELEGRAM_SIGNALS_CHAT_ID=your_optional_signals_chat_id_here

# Hyperliquid Live Trading (optional - DANGER: real money)
# When HYPERLIQUID_LIVE_TRADING=true and credentials are valid, the bot will
# send real orders to Hyperliquid mainnet via HyperliquidTradingClient.
# When false (default), all trades remain paper only.
HYPERLIQUID_LIVE_TRADING=false
HYPERLIQUID_WALLET_ADDRESS=0xyour_wallet_address
HYPERLIQUID_PRIVATE_KEY=your_private_key_or_vault_key
HYPERLIQUID_CAPITAL=500.0
LIVE_START_CAPITAL=500.0
LIVE_MAX_RISK_USD=100.0
LIVE_MAX_LEVERAGE=10.0
LIVE_MAX_MARGIN_USD=0.0

# Trading backend selection (execution layer)
# Supported values:
#   - paper             pure paper trading, no live orders.
#   - hyperliquid       prepare to use Hyperliquid as live backend.
#   - binance_futures   prepare to use Binance USDT-margined futures.
#   - backpack_futures  prepare to use Backpack USDC perpetual futures via REST API.
# If unset or invalid, the bot falls back to 'paper'.
TRADING_BACKEND=paper

# Market data backend selection (price/klines source for indicators & dashboard)
# Supported values:
#   - binance    use Binance spot market data (default)
#   - backpack   use Backpack public market data API
# If unset or invalid, defaults to 'binance'.
MARKET_DATA_BACKEND=binance

# Binance Futures live trading (only effective when TRADING_BACKEND=binance_futures).
# BINANCE_FUTURES_LIVE acts as the master switch for sending live orders.
# The *_MAX_* variables provide safety caps and are ignored in pure paper mode:
#   - BINANCE_FUTURES_MAX_RISK_USD: per-trade risk cap used when sizing positions.
#   - BINANCE_FUTURES_MAX_LEVERAGE: maximum leverage allowed (higher suggestions are clipped).
#   - BINANCE_FUTURES_MAX_MARGIN_USD: optional cap on margin per position (0.0 = no extra cap).
BINANCE_FUTURES_LIVE=false
BINANCE_FUTURES_MAX_RISK_USD=100.0
BINANCE_FUTURES_MAX_LEVERAGE=10.0
BINANCE_FUTURES_MAX_MARGIN_USD=0.0

# Backpack Futures live trading (only effective when TRADING_BACKEND=backpack_futures).
# Live mode is gated by LIVE_TRADING_ENABLED=true together with TRADING_BACKEND=backpack_futures.
# BACKPACK_API_PUBLIC_KEY / BACKPACK_API_SECRET_SEED should be base64-encoded ED25519 keys
# generated according to the official Backpack Exchange API documentation.
BACKPACK_API_PUBLIC_KEY=
BACKPACK_API_SECRET_SEED=
# Optional overrides:
#BACKPACK_API_BASE_URL=https://api.backpack.exchange
#BACKPACK_API_WINDOW_MS=5000

# Optional: Backtest configuration
#BACKTEST_DATA_DIR=data-backtest
#BACKTEST_START=2024-01-01T00:00:00Z
#BACKTEST_END=2024-01-07T00:00:00Z
#BACKTEST_INTERVAL=15m
#BACKTEST_LLM_MODEL=deepseek/deepseek-chat-v3.1
#BACKTEST_TEMPERATURE=0.7
#BACKTEST_MAX_TOKENS=4000
#BACKTEST_LLM_THINKING={"budget_tokens":512}
#BACKTEST_START_CAPITAL=10000
#BACKTEST_DISABLE_TELEGRAM=true

# Optional: Backtest-only LLM API override (keeps live config unchanged)
#BACKTEST_LLM_API_BASE_URL=http://localhost:8000/v1/chat/completions
#BACKTEST_LLM_API_KEY=your_backtest_only_llm_key_here
#BACKTEST_LLM_API_TYPE=custom

# ───────────────────────── 风控配置 (Risk Control) ─────────────────────────
# 风控总开关：启用/禁用所有风控功能
# 默认值：true（启用）
# 设置为 false 将禁用所有风控保护，请谨慎操作！
RISK_CONTROL_ENABLED=true

# Kill-Switch 开关：紧急暂停新开仓
# 默认值：false（不激活）
# 设置为 true 时，Bot 将拒绝所有新开仓信号，但允许平仓和止损/止盈执行
# 适用场景：市场剧烈波动、手动干预、系统维护等
KILL_SWITCH=false

# 每日亏损限制开关：启用/禁用每日亏损保护
# 默认值：true（启用）
# 当每日亏损达到阈值时自动激活 Kill-Switch
DAILY_LOSS_LIMIT_ENABLED=true

# 每日亏损限制百分比：触发 Kill-Switch 的每日亏损阈值
# 默认值：5.0（即 5%）
# 有效范围：0 ~ 100
# ⚠️ 警告：提高此阈值意味着承担更大的单日亏损风险，请根据自身风险承受能力谨慎设置！
DAILY_LOSS_LIMIT_PCT=5.0
